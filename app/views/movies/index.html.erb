<style>
  h1 {
    color: #ff4d4d;
    text-shadow: 0 0 12px #ff1a75;
  }

  .movie-card {
    background-color: #181818;
    border-radius: 15px;
    padding: 20px;
    transition: all 0.3s ease;
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.15);
    height: 100%;
  }
  .movie-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 25px rgba(255, 0, 0, 0.35);
  }

  .badge {
    font-size: 0.9rem;
    padding: 0.5em 0.9em;
    border-radius: 0.6rem;
    font-weight: 600;
  }

  /* Rating colors */
  .bg-G { background-color: #28a745; box-shadow: 0 0 10px #28a745; }
  .bg-PG { background-color: #17a2b8; box-shadow: 0 0 10px #17a2b8; }
  .bg-PG-13 { background-color: #ffc107; color: #222; box-shadow: 0 0 10px #ffc107; }
  .bg-R { background-color: #fd7e14; box-shadow: 0 0 10px #fd7e14; }
  .bg-NC-17 { background-color: #dc3545; box-shadow: 0 0 10px #dc3545; }

  .btn-outline-primary, .btn-outline-warning, .btn-outline-danger {
    color: #ff4d4d;
    border: 1px solid #ff4d4d;
    transition: all 0.3s ease;
  }
  .btn-outline-primary:hover,
  .btn-outline-warning:hover,
  .btn-outline-danger:hover {
    background: linear-gradient(90deg, #ff4d4d, #ff1a75);
    color: #fff;
    box-shadow: 0 0 10px #ff1a75;
  }

  .no-movies {
    background-color: #1a1a1a;
    border: 1px solid #ff1a75;
    color: #ff4d4d;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.2);
  }
</style>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="mb-0"><i class="bi bi-camera-reels-fill"></i> Movies</h1>
  <%= link_to new_movie_path, class: 'btn btn-primary' do %>
    <i class="bi bi-plus-circle"></i> Add New Movie
  <% end %>
</div>

<% if @movies.any? %>
  <div class="row g-4">
    <% @movies.each do |movie| %>
      <div class="col-md-6 col-lg-4">
        <div class="movie-card">
          <h5 class="fw-bold mb-2"><i class="bi bi-camera-reels-fill"></i> <%= movie.title %></h5>

          <div class="mb-2">
            <span class="badge bg-<%= movie.rating.gsub('+','-') %>">
              <%= movie.rating %>
            </span>
          </div>

          <p class="text-muted small mb-2">
            <%= movie.release_date ? movie.release_date.strftime('%B %d, %Y') : 'Unknown release date' %>
          </p>

          <p class="mb-3">
            <%= movie.description.present? ? truncate(movie.description, length: 70) : '<em class="text-muted">No description available</em>'.html_safe %>
          </p>

          <div class="d-flex justify-content-between">
            <%= link_to movie, class: 'btn btn-sm btn-outline-primary' do %>
              <i class="bi bi-eye"></i> Show
            <% end %>

            <%= link_to edit_movie_path(movie), class: 'btn btn-sm btn-outline-warning' do %>
              <i class="bi bi-pencil"></i> Edit
            <% end %>

            <%= link_to movie, method: :delete, data: { confirm: 'Are you sure you want to delete this movie?' }, class: 'btn btn-sm btn-outline-danger' do %>
              <i class="bi bi-trash"></i> Delete
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="text-center no-movies">
    <i class="bi bi-info-circle"></i>
    <p class="mt-2 mb-0">No movies found. <%= link_to 'Add your first movie', new_movie_path, class: 'text-decoration-none text-light' %>!</p>
  </div>
<% end %>
